{"remainingRequest":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\components\\SettingPassWord.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\components\\SettingPassWord.vue","mtime":1660272407115},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js","mtime":1660272402348},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js","mtime":1660272406551}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    name:'SettingPassWord',\r\n    data(){\r\n      return {\r\n        oldPassWord:'',\r\n        newPassWord:'',\r\n        newPassWord1:'',\r\n        isOk:false,\r\n        isInconsistent:false,\r\n        msg:'两次输入的新密码不一致或新密码为空',\r\n        msg1:'新密码不可为空'\r\n        // 必须包含大小写字母和数字的组合,不能使用特殊字符,长度在6-15之间\r\n      }\r\n    },\r\n    methods: {\r\n      consistent(){\r\n        if(this.newPassWord==this.newPassWord1 &&this.newPassWord!=''&&this.newPassWord1!=''){\r\n          this.isInconsistent=false\r\n        }else{\r\n          this.isInconsistent=true\r\n        }\r\n      },\r\n      // 验证新密码\r\n      verifyPassWord(){\r\n        let reg=/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/\r\n        if(this.newPassWord!=''){\r\n          this.isOk=false\r\n          if (reg.test(this.newPassWord)) {\r\n            this.isOk=false\r\n          }else{\r\n            this.msg1='必须包含大小写字母和数字的组合,不能使用特殊字符,长度在6-15之间'\r\n            this.$nextTick(function(){\r\n              this.isOk=true\r\n            })\r\n          }\r\n        }else{\r\n          this.isOk=true\r\n        }\r\n      },\r\n      settingFinish(){\r\n        this.consistent()\r\n        this.verifyPassWord()\r\n        this.$nextTick(function(){\r\n          if(!this.isInconsistent&&!this.isOk){\r\n            this.$store.state({user:'user'})\r\n            if(this.oldPassWord==user.passWord){\r\n              this.$axios.post('http://loclhost:8080/user/')\r\n              .then(res=>{\r\n                this.$router.back()\r\n              },\r\n              error=>{\r\n                console.log(error.message);\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n}\r\n",{"version":3,"sources":["SettingPassWord.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SettingPassWord.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div >\r\n    <span>请输入当前用户密码</span><br>\r\n    <input type=\"password\" v-model=\"oldPassWord\"><br>\r\n    <span>请输入新密码</span><br>\r\n    <input type=\"password\" v-model=\"newPassWord\" @input=\"verifyPassWord\" @blur=\"verifyPassWord\"><br>\r\n    <span v-if=\"isOk\" style=\"font-size:10px;color:red;\">{{msg1}}</span><br>\r\n    <span>请再次输入新密码</span><br>\r\n    <input type=\"password\" v-model=\"newPassWord1\" @blur=\"consistent\" @input=\"consistent\"><br>\r\n    <span v-if=\"isInconsistent\" style=\"font-size:10px;color:red;\">{{msg}}</span><br>\r\n    <button @click=\"settingFinish\">修改完成</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'SettingPassWord',\r\n    data(){\r\n      return {\r\n        oldPassWord:'',\r\n        newPassWord:'',\r\n        newPassWord1:'',\r\n        isOk:false,\r\n        isInconsistent:false,\r\n        msg:'两次输入的新密码不一致或新密码为空',\r\n        msg1:'新密码不可为空'\r\n        // 必须包含大小写字母和数字的组合,不能使用特殊字符,长度在6-15之间\r\n      }\r\n    },\r\n    methods: {\r\n      consistent(){\r\n        if(this.newPassWord==this.newPassWord1 &&this.newPassWord!=''&&this.newPassWord1!=''){\r\n          this.isInconsistent=false\r\n        }else{\r\n          this.isInconsistent=true\r\n        }\r\n      },\r\n      // 验证新密码\r\n      verifyPassWord(){\r\n        let reg=/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/\r\n        if(this.newPassWord!=''){\r\n          this.isOk=false\r\n          if (reg.test(this.newPassWord)) {\r\n            this.isOk=false\r\n          }else{\r\n            this.msg1='必须包含大小写字母和数字的组合,不能使用特殊字符,长度在6-15之间'\r\n            this.$nextTick(function(){\r\n              this.isOk=true\r\n            })\r\n          }\r\n        }else{\r\n          this.isOk=true\r\n        }\r\n      },\r\n      settingFinish(){\r\n        this.consistent()\r\n        this.verifyPassWord()\r\n        this.$nextTick(function(){\r\n          if(!this.isInconsistent&&!this.isOk){\r\n            this.$store.state({user:'user'})\r\n            if(this.oldPassWord==user.passWord){\r\n              this.$axios.post('http://loclhost:8080/user/')\r\n              .then(res=>{\r\n                this.$router.back()\r\n              },\r\n              error=>{\r\n                console.log(error.message);\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ninput{\r\n    margin-top: 20px;\r\n    height: 26px;\r\n}\r\nspan{\r\n    margin-top: 10px;\r\n}\r\nbutton{\r\n    /* margin-top: 5px; */\r\n    height: 34px;\r\n}\r\n</style>"]}]}