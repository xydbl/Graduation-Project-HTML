{"remainingRequest":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vuecli2\\src\\page\\SelectUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vuecli2\\src\\page\\SelectUser.vue","mtime":1658892220368},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js","mtime":1657605656602},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js","mtime":1657605655389}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from 'axios'\r\nexport default {\r\n    name:'SelectUser',\r\n    data() {\r\n        return {\r\n            userList:[],\r\n            msg:''\r\n        }\r\n    },\r\n    methods: {\r\n        // 删除用户\r\n        deleteUser(user){\r\n            axios.get(`http://localhost:8080/user/delete/${user.uid}`)\r\n            .then(res=>{\r\n                if(res.data) alert('删除成功')\r\n                this.updateData()\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 修改 编辑\r\n        userEdit(list){\r\n            console.log(!list.isEdit);\r\n            if(!list.isEdit&&list.isEdit!=false){\r\n                this.$set(list,'isEdit',true)\r\n            }else{\r\n                list.isEdit=true\r\n            }\r\n        },\r\n        // 按用户名搜索\r\n        searchName(){\r\n            axios.get(`http://localhost:8080/user/findByUserName/${this.msg}`)\r\n            .then(res=>{\r\n                this.userList= res.data\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 修改完成\r\n        editFinish(list){\r\n            list.isEdit=false\r\n            // axios.post('http://localhost:8080/user/updateUserById')\r\n            // .then(res=>{\r\n            //     res.data\r\n            // },\r\n            // error=>{\r\n            //     console.log(error.message);\r\n            // })\r\n        },\r\n        // 选中\r\n        checked1(list){\r\n            if(!list.checked){\r\n                this.$set(list,'checked',true)\r\n            }else{\r\n                list.checked=false\r\n            }\r\n        },\r\n        // 更新数据\r\n        updateData(){\r\n            axios.get('http://localhost:8080/user/findAll').then(\r\n            res=>{\r\n                this.userList=res.data\r\n            },error=>{\r\n                console.log(error.message);\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        // 刷新数据\r\n        // this.getuser=setInterval(()=>{\r\n        //     // console.log(\"xxx\");\r\n        //     axios.get('http://localhost:8080/user/findAll').then(\r\n        //         res=>{\r\n        //             this.userList=res.data\r\n        //         },error=>{\r\n        //             console.log(error.message);\r\n        //         }\r\n        //     )\r\n        // },5000)\r\n        axios.get('http://localhost:8080/user/findAll').then(\r\n            res=>{\r\n                this.userList=res.data\r\n            },error=>{\r\n                console.log(error.message);\r\n            }\r\n        )\r\n    },\r\n    beforeDestroy(){\r\n        // clearInterval(this.getuser)\r\n    }\r\n}\r\n",{"version":3,"sources":["SelectUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SelectUser.vue","sourceRoot":"src/page","sourcesContent":["list.<template>\r\n    <div>\r\n        <input type=\"text\" class=\"search\" v-model=\"msg\" @keyup.enter=\"searchName\">\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchName\">用户名搜索</el-button>\r\n        <button style=\"height:40px;\">删除选中</button>\r\n        <br>\r\n        <table >\r\n            <thead>\r\n                <tr>\r\n                    <td><input type=\"checkbox\"></td>\r\n                    <td>uid</td>\r\n                    <td>用户名</td>\r\n                    <td>密码</td>\r\n                    <td>操作</td>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-for=\"list in userList\" :key=\"list.uid\">\r\n                    <td><input type=\"checkbox\" :checked=\"list.checked\" @change=\"checked1(list)\"></td>\r\n                    <td>{{list.uid}}</td>\r\n                    <!--  -->\r\n                    <td v-if=\"!list.isEdit\">{{list.username}}</td>\r\n                    <td v-if=\"list.isEdit\"><input type=\"text\" :value=\"list.username\"></td>\r\n                    <!--  -->\r\n                    <td v-if=\"!list.isEdit\">{{list.password}}</td>\r\n                    <td v-if=\"list.isEdit\"><input type=\"text\" :value=\"list.password\"></td>\r\n                    <!-- 操作区 -->\r\n                    <td><button v-if=\"!list.isEdit\" @click=\"deleteUser(list)\">删除</button>\r\n                    <button v-if=\"!list.isEdit\" @click=\"userEdit(list)\">修改</button >\r\n                    <button v-if=\"list.isEdit\" @click=\"editFinish(list)\">修改完成</button></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    name:'SelectUser',\r\n    data() {\r\n        return {\r\n            userList:[],\r\n            msg:''\r\n        }\r\n    },\r\n    methods: {\r\n        // 删除用户\r\n        deleteUser(user){\r\n            axios.get(`http://localhost:8080/user/delete/${user.uid}`)\r\n            .then(res=>{\r\n                if(res.data) alert('删除成功')\r\n                this.updateData()\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 修改 编辑\r\n        userEdit(list){\r\n            console.log(!list.isEdit);\r\n            if(!list.isEdit&&list.isEdit!=false){\r\n                this.$set(list,'isEdit',true)\r\n            }else{\r\n                list.isEdit=true\r\n            }\r\n        },\r\n        // 按用户名搜索\r\n        searchName(){\r\n            axios.get(`http://localhost:8080/user/findByUserName/${this.msg}`)\r\n            .then(res=>{\r\n                this.userList= res.data\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 修改完成\r\n        editFinish(list){\r\n            list.isEdit=false\r\n            // axios.post('http://localhost:8080/user/updateUserById')\r\n            // .then(res=>{\r\n            //     res.data\r\n            // },\r\n            // error=>{\r\n            //     console.log(error.message);\r\n            // })\r\n        },\r\n        // 选中\r\n        checked1(list){\r\n            if(!list.checked){\r\n                this.$set(list,'checked',true)\r\n            }else{\r\n                list.checked=false\r\n            }\r\n        },\r\n        // 更新数据\r\n        updateData(){\r\n            axios.get('http://localhost:8080/user/findAll').then(\r\n            res=>{\r\n                this.userList=res.data\r\n            },error=>{\r\n                console.log(error.message);\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        // 刷新数据\r\n        // this.getuser=setInterval(()=>{\r\n        //     // console.log(\"xxx\");\r\n        //     axios.get('http://localhost:8080/user/findAll').then(\r\n        //         res=>{\r\n        //             this.userList=res.data\r\n        //         },error=>{\r\n        //             console.log(error.message);\r\n        //         }\r\n        //     )\r\n        // },5000)\r\n        axios.get('http://localhost:8080/user/findAll').then(\r\n            res=>{\r\n                this.userList=res.data\r\n            },error=>{\r\n                console.log(error.message);\r\n            }\r\n        )\r\n    },\r\n    beforeDestroy(){\r\n        // clearInterval(this.getuser)\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search{\r\n    height: 34px;\r\n}\r\n</style>"]}]}