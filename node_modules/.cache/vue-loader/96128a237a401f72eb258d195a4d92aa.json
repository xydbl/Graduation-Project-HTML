{"remainingRequest":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vuecli2\\src\\page\\AccountSetting.vue?vue&type=style&index=0&id=eba9e98c&scoped=true&lang=css&","dependencies":[{"path":"D:\\HBuilderProjects\\vuecli2\\src\\page\\AccountSetting.vue","mtime":1659685647869},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\css-loader\\index.js","mtime":1657605645834},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1657605655403},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\postcss-loader\\src\\index.js","mtime":1657605656426},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js","mtime":1657605655389}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.settingEmail{\r\n    margin-top: 40px;\r\n}\r\ninput{\r\n    margin-top: 10px;\r\n    height: 30px;\r\n}\r\nbutton{\r\n    margin-left: 20px;\r\n    height: 34px;\r\n}\r\n",{"version":3,"sources":["AccountSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountSetting.vue","sourceRoot":"src/page","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n        <div v-if=\"!updateN\">\r\n            <span>昵称</span><br>\r\n            <input type=\"text\" disabled :value=\"uMsg.nickname\"><button @click=\"changeUpdateN\">修改昵称</button><br>\r\n        </div>\r\n        <div v-if=\"updateN\">\r\n            <span>请输入新昵称:</span><br><input type=\"text\" v-model=\"usr.nickname\" @keyup.enter=\"updateName\" \r\n            ref=\"focus1\">\r\n            <button @click=\"changeUpdateN\">取消修改</button>\r\n            <button @click=\"updateName\">修改完成</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"settingEmail\">\r\n        <span>登录密码</span><br>\r\n        <input type=\"password\" disabled :value=\"uMsg.passWord\">\r\n        <router-link to=\"/setting/accountSetting/settingPassWord\" ><button v-if=\"!updatePass\" @click=\"changeUpdatePass\">修改密码</button ></router-link><button v-if=\"updatePass\" @click=\"returnOne\">取消修改</button>\r\n        <!-- <button>修改密码</button> -->\r\n    </div>\r\n    <div class=\"settingEmail\">\r\n        <router-view></router-view>\r\n    </div>\r\n    <div class=\"settingEmail\" v-if=\"!updateE\">\r\n        <span>当前邮箱</span><br>\r\n        <input type=\"text\" disabled :value=\"uMsg.email\"><button @click=\"changeEmail\">修改邮箱</button>\r\n    </div>\r\n    <div v-if=\"updateE\" style=\"margin-top:40px\">\r\n        <span>请输入新的邮箱</span><br>\r\n        <input type=\"text\" v-model=\"usr.email\" @keyup.enter=\"updateEmail\" ref=\"focus2\">\r\n        <button @click=\"changeEmail\">修改取消</button>\r\n        <button @click=\"updateEmail\">修改完成</button>\r\n    </div>\r\n    <div class=\"settingEmail\" v-if=\"!updateP\">\r\n        <span>当前手机号</span><br>\r\n        <input type=\"text\" disabled :value=\"uMsg.phone\"><button @click=\"changePhone\">修改手机号</button>\r\n    </div>\r\n    <div v-if=\"updateP\" style=\"margin-top:40px\">\r\n        <span>请输入新的手机号</span><br>\r\n        <input type=\"text\" v-model=\"usr.phone\" @keyup.enter=\"updatePhone\" ref=\"focus3\">\r\n        <button @click=\"changePhone\">取消修改</button>\r\n        <button @click=\"updatePhone\">修改完成</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'AccountSetting',\r\n    data() {\r\n        return {\r\n            updateN:false,\r\n            updatePass:false,\r\n            updateE:false,\r\n            updateP:false,\r\n            usr:{\r\n                nickname:'',\r\n                email:'',\r\n                phone:''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // 修改昵称\r\n        changeUpdateN(){\r\n            this.updateN=!this.updateN\r\n            this.$nextTick(function(){\r\n                this.$refs.focus1.focus()\r\n            })\r\n        },\r\n        updateName(){\r\n            this.updateN=false\r\n            this.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n                uid:this.uMsg.uid,\r\n                nickname:this.usr.nickname\r\n            }).then(res=>{\r\n                this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 密码\r\n        changeUpdatePass(){\r\n            this.updatePass=true\r\n        },\r\n        // 跳转页面\r\n        returnOne(){\r\n            this.updateP=false\r\n            this.$nextTick(function(){\r\n                this.$router.push({path:'/setting/accountSetting'})\r\n            })\r\n        },\r\n        // 邮箱\r\n        changeEmail(){\r\n            this.updateE=!this.updateE\r\n            this.$nextTick(function(){\r\n                this.$refs.focus2.focus()\r\n            })\r\n        },\r\n        updateEmail(){\r\n            this.updateE=false\r\n            this.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n                uid:this.uMsg.uid,\r\n                email:this.usr.email\r\n            }).then(res=>{\r\n                this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 电话\r\n        changePhone(){\r\n            this.updateP=!this.updateP\r\n            this.$nextTick(function(){\r\n                if(this.updateP){\r\n                    this.$refs.focus3.focus()\r\n                }\r\n            })\r\n        },\r\n        updatePhone(){\r\n            this.updateP=false\r\n            this.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n                uid:this.uMsg.uid,\r\n                phone:this.usr.phone\r\n            }).then(res=>{\r\n                this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        }\r\n    },\r\n    computed:{\r\n        uMsg(){\r\n            return this.$store.state.userOptions.user\r\n        }\r\n    },\r\n    mounted() {\r\n        // 初始化\r\n        this.urMsg=this.uMsg\r\n        this.updateN=false\r\n        this.updatePass=false\r\n        this.updateE=false\r\n        this.updateP=false\r\n        this.usr.nickname=this.uMsg.nickname\r\n        this.usr.email=this.uMsg.email\r\n        this.usr.phone=this.uMsg.phone\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.settingEmail{\r\n    margin-top: 40px;\r\n}\r\ninput{\r\n    margin-top: 10px;\r\n    height: 30px;\r\n}\r\nbutton{\r\n    margin-left: 20px;\r\n    height: 34px;\r\n}\r\n</style>"]}]}