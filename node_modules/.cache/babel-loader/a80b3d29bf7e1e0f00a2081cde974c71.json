{"remainingRequest":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\page\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\page\\Setting.vue","mtime":1661305046990},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js","mtime":1660272402348},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js","mtime":1660272406551}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\HBuilderProjects\\\\vue2\\\\Graduation-Project-HTML\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'Setting',\n  data: function data() {\n    return {\n      isSig: false,\n      signature: ''\n    };\n  },\n  methods: {\n    //  上传头像\n    uploadImg: function uploadImg() {\n      alert(\"zzz\");\n    },\n    // 个性签名\n    setSig: function setSig() {\n      this.isSig = true;\n      this.signature = this.user.signature;\n      this.$nextTick(function () {\n        this.$refs.getFocus.focus();\n      });\n    },\n    // 修改完成\n    finishSig: function finishSig() {\n      var _this = this;\n\n      this.isSig = false;\n      axios.post('http://localhost:8081/api/user/updateUserById', {\n        uid: this.user.uid,\n        signature: this.signature\n      }).then(function (res) {\n        _this.$store.commit('userOptions/UPDATEUSERMESSAGE');\n      }, function (error) {\n        console.log(error.message); // alert('修改失败')\n\n        _this.$message.warning(\"修改失败\");\n      });\n    },\n    // 放弃修改\n    giveSet: function giveSet() {\n      // setTimeout(() => {\n      this.isSig = false; // }, 300);\n    }\n  },\n  computed: _objectSpread({}, mapState('userOptions', {\n    user: 'user'\n  }))\n};",{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AACA,MAAA,KAAA,CAAA,KAAA,CAAA;AACA,KAJA;AAKA;AACA,IAAA,MANA,oBAMA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,WAAA,SAAA,GAAA,KAAA,IAAA,CAAA,SAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,aAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,OAFA;AAGA,KAZA;AAaA;AACA,IAAA,SAdA,uBAcA;AAAA;;AACA,WAAA,KAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,+CAAA,EAAA;AACA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GADA;AAEA,QAAA,SAAA,EAAA,KAAA;AAFA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,+BAAA;AACA,OANA,EAOA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA,EADA,CAEA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,OAXA;AAYA,KA5BA;AA6BA;AACA,IAAA,OA9BA,qBA8BA;AACA;AACA,WAAA,KAAA,GAAA,KAAA,CAFA,CAGA;AACA;AAlCA,GARA;AA4CA,EAAA,QAAA,oBACA,QAAA,CAAA,aAAA,EAAA;AAAA,IAAA,IAAA,EAAA;AAAA,GAAA,CADA;AA5CA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <router-link to=\"/setting\" style=\"set1\">\r\n    <span class=\"set1\">设置</span>\r\n    </router-link>\r\n    <!-- <div class=\"top\">\r\n        \r\n    </div> -->\r\n    <div class=\"leftSetting\">\r\n      <div class=\"usrMsg\">\r\n        <!-- 头像 -->\r\n        <div class=\"avatar\">\r\n          <router-link to=\"/setting/uploadimage\">\r\n            <!-- <el-avatar src=\"../assets/logo.png\" style=\"width:70px;height:70px; position:relative;top:-50px;left:10px; float:left;\">\r\n            </el-avatar> -->\r\n            <img v-if=\"user.image!=null&&user.image!=''\" :src=\"require('../assets/userimage/'+user.image)\" alt=\"xxxx\"  class=\"aimage\">\r\n            <img class=\"aimage\" v-else src=\"../assets/logo.png\">\r\n          </router-link>\r\n          \r\n          <span style=\"position: relative; top:-40px; left:80px\">{{user.nickname}}</span>\r\n          <!-- <div>\r\n            <input type=\"text\">\r\n          </div> -->\r\n          <span v-if=\"!isSig\">{{user.signature}}</span>\r\n          <input type=\"text\" v-if=\"isSig\" v-model=\"signature\" style=\"width:150px\" @keyup.enter=\"finishSig\" @blur=\"giveSet\" ref=\"getFocus\">\r\n          <el-button @click=\"setSig\" v-if=\"!isSig\" type=\"primary\" icon=\"el-icon-edit\" style=\"border:0; color:black;background-color: #fff; height:20px\"></el-button>\r\n        </div>\r\n      </div>\r\n      <!-- 基本设置 -->\r\n      <div class=\"basicSetting\">\r\n        <h2>基本设置</h2>\r\n        <router-link to=\"/setting/accountSetting\">账号管理</router-link><hr>\r\n        <router-link to=\"/setting/personalInformation\">完善个人信息</router-link><hr>\r\n      </div>\r\n      <!-- 视图 -->\r\n      <div class=\"views\">\r\n        <router-view></router-view>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n    name:'Setting',\r\n    data() {\r\n      return {\r\n        isSig:false,\r\n        signature:''\r\n      }\r\n    },\r\n    methods: {\r\n      //  上传头像\r\n      uploadImg(){\r\n        alert(\"zzz\")\r\n      },\r\n      // 个性签名\r\n      setSig(){\r\n        this.isSig=true\r\n        this.signature=this.user.signature\r\n        this.$nextTick(function(){\r\n          this.$refs.getFocus.focus()\r\n        })\r\n      },\r\n      // 修改完成\r\n      finishSig(){\r\n        this.isSig=false\r\n        axios.post('http://localhost:8081/api/user/updateUserById',{\r\n          uid:this.user.uid,\r\n          signature:this.signature\r\n        })\r\n        .then(res=>{\r\n          this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n        },\r\n        error=>{\r\n          console.log(error.message);\r\n          // alert('修改失败')\r\n          this.$message.warning(\"修改失败\")\r\n        })\r\n      },\r\n      // 放弃修改\r\n      giveSet(){\r\n        // setTimeout(() => {\r\n          this.isSig=false\r\n        // }, 300);\r\n      }\r\n    },\r\n    computed:{\r\n      ...mapState('userOptions',{user:'user'}),\r\n      // usMsg(){\r\n      //   return this.$store.state.userOptions.user\r\n      // }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.set1{\r\n  position: relative;\r\n  top: -50px;\r\n  font-size: 25px;\r\n  left: 20px;\r\n}\r\n.set1:hover{\r\n  color: gray;\r\n}\r\n.leftSetting{\r\n  position: absolute;\r\n  width: 320px;\r\n  height: 720px;\r\n  top: 70px;\r\n  left: 30px;\r\n  border-radius: 4px;\r\n  border: 1px solid black;\r\n}\r\n.usrMsg{\r\n  /* text-align: center; */\r\n  /* position: relative; */\r\n  height: 100px;\r\n  border-bottom: 1px solid red;\r\n}\r\n.avatar{\r\n  position: relative;\r\n  height: 100px;\r\n  top: 60px;\r\n  \r\n}\r\n.basicSetting {\r\n  margin: 20px;\r\n}\r\nhr{\r\n\tborder: 0;\r\n\tbackground-color: #ffffff;\r\n\theight: 1px;\r\n}\r\n.views{\r\n  position: relative;\r\n  height: 720px;\r\n  width: 910px;\r\n  /* border-left: 1px solid saddlebrown; */\r\n  /* border: 1px solid black; */\r\n  top: -190px;\r\n  left: 380px;\r\n}\r\n.aimage{\r\n  width: 70px;\r\n  height: 70px;\r\n  position:relative;\r\n  top:-50px;\r\n  left:10px;\r\n  float:left;\r\n  border-radius: 50%;\r\n  border: 1px solid #ffffff;\r\n}\r\n</style>"],"sourceRoot":"src/page"}]}