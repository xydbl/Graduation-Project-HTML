{"remainingRequest":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\components\\ReplyApp.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\components\\ReplyApp.vue","mtime":1660791246579},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js","mtime":1660272402348},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js","mtime":1660272406551}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'ReplyApp',\n  data: function data() {\n    return {\n      multipleSelection: [],\n      tableData: [],\n      // 状态 0正常 1 隐藏已通过 2隐藏未通过 3 display和display1为false\n      state: 0,\n      total: 7,\n      display: true,\n      display1: true,\n      pageIndex: 1\n    };\n  },\n  methods: {\n    toggleSelection: function toggleSelection(rows) {\n      var _this = this;\n\n      if (rows) {\n        rows.forEach(function (row) {\n          _this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handelCurrentChange: function handelCurrentChange(val) {\n      this.pageIndex = val;\n\n      if (this.state == 0) {\n        this.getReply();\n      } else if (this.state == 1) {\n        this.getNoApp();\n      } else if (this.state == 2) {\n        this.getApp;\n      } else {\n        return false;\n      }\n    },\n    // 获取\n    getReply: function getReply() {\n      var _this2 = this;\n\n      var bid = sessionStorage.getItem('abid');\n      this.$axios.post('http://localhost:8081/api/reply/findByBid', {\n        bid: bid,\n        pageIndex: this.pageIndex,\n        pageSize: 7\n      }).then(function (res) {\n        // console.log(res.data);\n        _this2.tableData = res.data.records;\n        _this2.total = res.data.total; // console.log(res.data);\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    // 删除\n    delReply: function delReply(hid) {\n      var _this3 = this;\n\n      this.$axios.get(\"http://localhost:8081/reply/del/\".concat(hid)).then(function (res) {\n        _this3.getReply();\n\n        _this3.$message.success('已删除');\n\n        if (_this3.state == 0) {\n          _this3.getReply();\n        } else if (_this3.state == 1) {\n          _this3.getNoApp();\n        } else if (_this3.state == 2) {\n          _this3.getApp;\n        } else {\n          return false;\n        }\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    // 批量删除\n    delAll: function delAll() {\n      var _this4 = this;\n\n      var list = [];\n      this.multipleSelection.forEach(function (li) {\n        list.push(li.hid);\n      });\n\n      if (list == '') {\n        this.$message.warning('选择为空');\n        return false;\n      }\n\n      this.$axios({\n        method: 'post',\n        url: 'http://localhost:8081/api/reply/delAll',\n        data: list\n      }).then(function (res) {\n        if (res.data) {\n          _this4.getReply();\n\n          _this4.$message.success('已删除');\n\n          if (_this4.state == 0) {\n            _this4.getReply();\n          } else if (_this4.state == 1) {\n            _this4.getNoApp();\n          } else if (_this4.state == 2) {\n            _this4.getApp;\n          } else {\n            return false;\n          }\n        } else {\n          _this4.$message.error('删除失败');\n        }\n      }, function (error) {\n        console.log(error.message);\n\n        _this4.$message.error('删除失败');\n      });\n    },\n    updateReply: function updateReply(hid) {\n      var _this5 = this;\n\n      this.$axios.post('http://localhost:8081/api/reply/update', {\n        hid: hid,\n        state: 1\n      }).then(function (res) {\n        _this5.$message.success('已通过');\n\n        if (_this5.state == 0) {\n          _this5.getReply();\n        } else if (_this5.state == 1) {\n          _this5.getNoApp();\n        } else if (_this5.state == 2) {\n          _this5.getApp;\n        } else {\n          return false;\n        }\n      }, function (error) {\n        console.log(error.message);\n\n        _this5.getReply();\n      });\n    },\n    updateReplyAll: function updateReplyAll() {\n      var _this6 = this;\n\n      var ids = [];\n      this.multipleSelection.forEach(function (li) {\n        ids.push(li.hid);\n      });\n\n      if (ids == '') {\n        this.$message.warning(\"选择为空\");\n        return false;\n      }\n\n      this.$axios.post('http://localhost:8081/api/reply/updateAll', ids).then(function (res) {\n        if (res.data) {\n          _this6.$message.success(\"成功\");\n\n          if (_this6.state == 0) {\n            _this6.getReply();\n          } else if (_this6.state == 1) {\n            _this6.getNoApp();\n          } else if (_this6.state == 2) {\n            _this6.getApp;\n          } else {\n            return false;\n          }\n        } else {\n          _this6.$message.warning('失败');\n        }\n      }, function (error) {\n        console.log(error.message);\n\n        _this6.message.warning(\"失败\");\n      });\n    },\n    getNoApp: function getNoApp() {\n      var _this7 = this;\n\n      var bid = sessionStorage.getItem('abid');\n      this.$axios.post('http://localhost:8081/api/reply/findNoApp', {\n        bid: bid,\n        pageIndex: this.pageIndex,\n        pageSize: 7\n      }).then(function (res) {\n        // console.log(res.data);\n        _this7.tableData = res.data.records;\n        _this7.total = res.data.total;\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    getApp: function getApp() {\n      var _this8 = this;\n\n      var bid = sessionStorage.getItem('abid');\n      this.$axios.post('http://localhost:8081/api/reply/findApp', {\n        bid: bid,\n        pageIndex: this.pageIndex,\n        pageSize: 7\n      }).then(function (res) {\n        // console.log(res.data);\n        _this8.tableData = res.data.records;\n        _this8.total = res.data.total;\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    //  隐藏\n    displayReply: function displayReply() {\n      this.pageIndex = 1;\n      this.display = false;\n\n      if (!this.display1) {\n        this.tableData = [];\n        this.total = 1;\n        this.state = 3;\n      } else {\n        this.state = 1;\n        this.getNoApp();\n      }\n    },\n    blockReply: function blockReply() {\n      this.pageIndex = 1;\n      this.display = true;\n\n      if (this.display1) {\n        this.state = 0;\n        this.getReply();\n      } else {\n        this.state = 2;\n        this.getApp();\n      }\n    },\n    // 隐藏\n    displayReply1: function displayReply1() {\n      this.pageIndex = 1;\n      this.display1 = false;\n\n      if (!this.display) {\n        this.tableData = [];\n        this.total = 1;\n        this.state = 3;\n      } else {\n        this.state = 2;\n        this.getApp();\n      }\n    },\n    blockReply1: function blockReply1() {\n      this.pageIndex = 1;\n      this.display1 = true;\n\n      if (!this.display) {\n        this.state = 1;\n        this.getNoApp();\n      } else {\n        this.state = 0;\n        this.getReply();\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.getReply();\n  }\n};",{"version":3,"sources":["ReplyApp.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"margin-top: 20px\">\r\n        <el-button @click=\"toggleSelection()\">取消选择</el-button>\r\n        <el-button @click=\"delAll\">删除选中</el-button>\r\n        <el-button @click=\"updateReplyAll\">批量通过</el-button>\r\n        <el-button @click=\"displayReply\" v-if=\"display\">隐藏已通过</el-button>\r\n        <el-button @click=\"blockReply\" v-else>取消隐藏(已通过)</el-button>\r\n        <el-button v-if=\"display1\" @click=\"displayReply1\">隐藏未通过</el-button>\r\n        <el-button v-else @click=\"blockReply1\">取消隐藏(未通过)</el-button>\r\n    </div>\r\n    <el-table\r\n        ref=\"multipleTable\"\r\n        :data=\"tableData\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        row-key=\"hid\">\r\n\r\n        <el-table-column\r\n        type=\"selection\"\r\n        width=\"55\">\r\n        </el-table-column>\r\n\r\n        <el-table-column \r\n        prop=\"hmessage\"\r\n        label=\"回复的内容\"\r\n        width=\"300\">\r\n            <template slot-scope=\"scope\">{{scope.row.hmessage}}</template>\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"hcid\"\r\n        label=\"回复的评论\"\r\n        width=\"240\">\r\n            <template slot-scope=\"scope\">{{scope.row.hcid}}</template>   \r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"husr\" \r\n        label=\"回复人\">\r\n            <template slot-scope=\"scope\">{{scope.row.husr||'游客'}}</template>\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"htime\"\r\n        label=\"日期\"\r\n        >\r\n        <template slot-scope=\"scope\">{{ scope.row.htime }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\" @click=\"delReply(scope.row.hid)\">删除</el-button>\r\n                <el-button size=\"mini\" @click=\"updateReply(scope.row.hid)\" v-if=\"scope.row.state==0\">通过</el-button>\r\n                <el-button size=\"mini\" v-else disabled>通过</el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <div class=\"pagination\">\r\n        <el-pagination\r\n        :page-size=\"6\"\r\n        :current-page=\"pageIndex\"\r\n        @current-change=\"handelCurrentChange\"\r\n        layout=\"prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'ReplyApp',\r\n    data() {\r\n        return {\r\n            multipleSelection: [],\r\n            tableData:[],\r\n            // 状态 0正常 1 隐藏已通过 2隐藏未通过 3 display和display1为false\r\n            state:0,\r\n            total:7,\r\n            display:true,\r\n            display1:true,\r\n            pageIndex:1\r\n        }\r\n    },\r\n    methods: {\r\n        toggleSelection(rows) {\r\n            if (rows) {\r\n            rows.forEach(row => {\r\n                this.$refs.multipleTable.toggleRowSelection(row);\r\n            });\r\n            } else {\r\n            this.$refs.multipleTable.clearSelection();\r\n            }\r\n        },\r\n        handleSelectionChange(val) {\r\n            this.multipleSelection = val;\r\n        },\r\n        handelCurrentChange(val){\r\n            this.pageIndex=val\r\n            if(this.state==0){\r\n                this.getReply()\r\n            }else if(this.state==1){\r\n                this.getNoApp()\r\n            }else if(this.state==2){\r\n                this.getApp\r\n            }else{\r\n                return false\r\n            }\r\n            \r\n        },\r\n        // 获取\r\n        getReply(){\r\n            let bid=sessionStorage.getItem('abid')\r\n            this.$axios.post('http://localhost:8081/api/reply/findByBid',{\r\n                bid:bid,\r\n                pageIndex:this.pageIndex,\r\n                pageSize:7\r\n            })\r\n            .then(res=>{\r\n                // console.log(res.data);\r\n                this.tableData=res.data.records\r\n                this.total=res.data.total\r\n                // console.log(res.data);\r\n            },error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 删除\r\n        delReply(hid){\r\n            this.$axios.get(`http://localhost:8081/reply/del/${hid}`)\r\n            .then(res=>{\r\n                this.getReply()\r\n                this.$message.success('已删除')\r\n                if(this.state==0){\r\n                    this.getReply()\r\n                }else if(this.state==1){\r\n                    this.getNoApp()\r\n                }else if(this.state==2){\r\n                    this.getApp\r\n                }else{\r\n                    return false\r\n                }\r\n            },error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 批量删除\r\n        delAll(){\r\n            let list=[]\r\n            this.multipleSelection.forEach(li=>{\r\n                list.push(li.hid)\r\n            })\r\n            if(list==''){\r\n                this.$message.warning('选择为空')\r\n                return false\r\n            }\r\n            this.$axios({\r\n                method:'post',\r\n                url:'http://localhost:8081/api/reply/delAll',\r\n                data:list\r\n            }).then(res=>{\r\n                if(res.data){\r\n                    this.getReply()\r\n                    this.$message.success('已删除')\r\n                    if(this.state==0){\r\n                        this.getReply()\r\n                    }else if(this.state==1){\r\n                        this.getNoApp()\r\n                    }else if(this.state==2){\r\n                        this.getApp\r\n                    }else{\r\n                        return false\r\n                    }\r\n                }else{\r\n                    this.$message.error('删除失败')\r\n                }\r\n            },error=>{\r\n                console.log(error.message);\r\n                this.$message.error('删除失败')\r\n            })\r\n        },\r\n        updateReply(hid){\r\n            this.$axios.post('http://localhost:8081/api/reply/update',{\r\n                hid:hid,\r\n                state:1\r\n            }).then(res=>{\r\n                this.$message.success('已通过')\r\n                if(this.state==0){\r\n                    this.getReply()\r\n                }else if(this.state==1){\r\n                    this.getNoApp()\r\n                }else if(this.state==2){\r\n                    this.getApp\r\n                }else{\r\n                    return false\r\n                }\r\n            },error=>{\r\n                console.log(error.message);\r\n                this.getReply()\r\n            })\r\n        },\r\n        updateReplyAll(){\r\n            let ids=[]\r\n            this.multipleSelection.forEach(li=>{\r\n                ids.push(li.hid)\r\n            })\r\n            if(ids==''){\r\n                this.$message.warning(\"选择为空\")\r\n                return false\r\n            }\r\n            this.$axios.post('http://localhost:8081/api/reply/updateAll',ids)\r\n            .then(res=>{\r\n                if(res.data){\r\n                    this.$message.success(\"成功\")\r\n                    if(this.state==0){\r\n                        this.getReply()\r\n                    }else if(this.state==1){\r\n                        this.getNoApp()\r\n                    }else if(this.state==2){\r\n                        this.getApp\r\n                    }else{\r\n                        return false\r\n                    }\r\n                }else{\r\n                    this.$message.warning('失败')\r\n                }\r\n            },error=>{\r\n                console.log(error.message);\r\n                this.message.warning(\"失败\")\r\n            })\r\n        },\r\n        getNoApp(){\r\n            let bid=sessionStorage.getItem('abid')\r\n            this.$axios.post('http://localhost:8081/api/reply/findNoApp',{\r\n                bid:bid,\r\n                pageIndex:this.pageIndex,\r\n                pageSize:7\r\n            }).then(res=>{\r\n                // console.log(res.data);\r\n                this.tableData=res.data.records\r\n                this.total=res.data.total\r\n            },error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        getApp(){\r\n            let bid=sessionStorage.getItem('abid')\r\n            this.$axios.post('http://localhost:8081/api/reply/findApp',{\r\n                bid:bid,\r\n                pageIndex:this.pageIndex,\r\n                pageSize:7\r\n            }).then(res=>{\r\n                // console.log(res.data);\r\n                this.tableData=res.data.records\r\n                this.total=res.data.total\r\n            },error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        //  隐藏\r\n        displayReply(){\r\n            this.pageIndex=1\r\n            this.display=false\r\n            if(!this.display1){\r\n                this.tableData=[]\r\n                this.total=1\r\n                this.state=3\r\n            }else{\r\n                this.state=1\r\n                this.getNoApp()\r\n            }\r\n        },\r\n        blockReply(){\r\n            this.pageIndex=1\r\n            this.display=true\r\n            if(this.display1){\r\n                this.state=0\r\n                this.getReply()\r\n            }else{\r\n                this.state=2\r\n                this.getApp()\r\n            }\r\n        },\r\n        // 隐藏\r\n        displayReply1(){\r\n            this.pageIndex=1\r\n            this.display1=false\r\n            if(!this.display){\r\n                this.tableData=[]\r\n                this.total=1\r\n                this.state=3\r\n            }else{\r\n                this.state=2\r\n                this.getApp()\r\n            }\r\n        },\r\n        blockReply1(){\r\n            this.pageIndex=1\r\n            this.display1=true\r\n            if(!this.display){\r\n                this.state=1\r\n                this.getNoApp()\r\n            }else{\r\n                this.state=0\r\n                this.getReply()\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getReply()\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}