{"remainingRequest":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vuecli2\\src\\page\\AccountSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vuecli2\\src\\page\\AccountSetting.vue","mtime":1659685767101},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js","mtime":1657605656602},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js","mtime":1657605655389}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'AccountSetting',\n  data: function data() {\n    return {\n      updateN: false,\n      updatePass: false,\n      updateE: false,\n      updateP: false,\n      usr: {\n        nickname: '',\n        email: '',\n        phone: ''\n      }\n    };\n  },\n  methods: {\n    // 修改昵称\n    changeUpdateN: function changeUpdateN() {\n      this.updateN = !this.updateN;\n      this.$nextTick(function () {\n        if (this.updateN) {\n          this.$refs.focus1.focus();\n        }\n      });\n    },\n    updateName: function updateName() {\n      var _this = this;\n\n      this.updateN = false;\n      this.$axios.post('http://localhost:8081/api/user/updateUserById', {\n        uid: this.uMsg.uid,\n        nickname: this.usr.nickname\n      }).then(function (res) {\n        _this.$store.commit('userOptions/UPDATEUSERMESSAGE');\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    // 密码\n    changeUpdatePass: function changeUpdatePass() {\n      this.updatePass = true;\n    },\n    // 跳转页面\n    returnOne: function returnOne() {\n      this.updatePass = false;\n      this.$nextTick(function () {\n        this.$router.push({\n          path: '/setting/accountSetting'\n        });\n      });\n    },\n    // 邮箱\n    changeEmail: function changeEmail() {\n      this.updateE = !this.updateE;\n      this.$nextTick(function () {\n        if (this.updateE) {\n          this.$refs.focus2.focus();\n        }\n      });\n    },\n    updateEmail: function updateEmail() {\n      var _this2 = this;\n\n      this.updateE = false;\n      this.$axios.post('http://localhost:8081/api/user/updateUserById', {\n        uid: this.uMsg.uid,\n        email: this.usr.email\n      }).then(function (res) {\n        _this2.$store.commit('userOptions/UPDATEUSERMESSAGE');\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    // 电话\n    changePhone: function changePhone() {\n      this.updateP = !this.updateP;\n      this.$nextTick(function () {\n        if (this.updateP) {\n          this.$refs.focus3.focus();\n        }\n      });\n    },\n    updatePhone: function updatePhone() {\n      var _this3 = this;\n\n      this.updateP = false;\n      this.$axios.post('http://localhost:8081/api/user/updateUserById', {\n        uid: this.uMsg.uid,\n        phone: this.usr.phone\n      }).then(function (res) {\n        _this3.$store.commit('userOptions/UPDATEUSERMESSAGE');\n      }, function (error) {\n        console.log(error.message);\n      });\n    }\n  },\n  computed: {\n    uMsg: function uMsg() {\n      return this.$store.state.userOptions.user;\n    }\n  },\n  mounted: function mounted() {\n    // 初始化\n    this.urMsg = this.uMsg;\n    this.updateN = false;\n    this.updatePass = false;\n    this.updateE = false;\n    this.updateP = false;\n    this.usr.nickname = this.uMsg.nickname;\n    this.usr.email = this.uMsg.email;\n    this.usr.phone = this.uMsg.phone;\n  }\n};",{"version":3,"sources":["AccountSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,GAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA;AALA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,KAAA,OAAA,EAAA;AACA,eAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;AACA,OAJA;AAKA,KATA;AAUA,IAAA,UAVA,wBAUA;AAAA;;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,+CAAA,EAAA;AACA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GADA;AAEA,QAAA,QAAA,EAAA,KAAA,GAAA,CAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,+BAAA;AACA,OALA,EAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OARA;AASA,KArBA;AAsBA;AACA,IAAA,gBAvBA,8BAuBA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KAzBA;AA0BA;AACA,IAAA,SA3BA,uBA2BA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAFA;AAGA,KAhCA;AAiCA;AACA,IAAA,WAlCA,yBAkCA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,KAAA,OAAA,EAAA;AACA,eAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;AACA,OAJA;AAKA,KAzCA;AA0CA,IAAA,WA1CA,yBA0CA;AAAA;;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,+CAAA,EAAA;AACA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,+BAAA;AACA,OALA,EAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OARA;AASA,KArDA;AAsDA;AACA,IAAA,WAvDA,yBAuDA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,YAAA,KAAA,OAAA,EAAA;AACA,eAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA;AACA,OAJA;AAKA,KA9DA;AA+DA,IAAA,WA/DA,yBA+DA;AAAA;;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,+CAAA,EAAA;AACA,QAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GADA;AAEA,QAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,+BAAA;AACA,OALA,EAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OARA;AASA;AA1EA,GAfA;AA2FA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,IAAA;AACA;AAHA,GA3FA;AAgGA,EAAA,OAhGA,qBAgGA;AACA;AACA,SAAA,KAAA,GAAA,KAAA,IAAA;AACA,SAAA,OAAA,GAAA,KAAA;AACA,SAAA,UAAA,GAAA,KAAA;AACA,SAAA,OAAA,GAAA,KAAA;AACA,SAAA,OAAA,GAAA,KAAA;AACA,SAAA,GAAA,CAAA,QAAA,GAAA,KAAA,IAAA,CAAA,QAAA;AACA,SAAA,GAAA,CAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA,SAAA,GAAA,CAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA;AA1GA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n        <div v-if=\"!updateN\">\r\n            <span>昵称</span><br>\r\n            <input type=\"text\" disabled :value=\"uMsg.nickname\"><button @click=\"changeUpdateN\">修改昵称</button><br>\r\n        </div>\r\n        <div v-if=\"updateN\">\r\n            <span>请输入新昵称:</span><br><input type=\"text\" v-model=\"usr.nickname\" @keyup.enter=\"updateName\" \r\n            ref=\"focus1\">\r\n            <button @click=\"changeUpdateN\">取消修改</button>\r\n            <button @click=\"updateName\">修改完成</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"settingEmail\">\r\n        <span>登录密码</span><br>\r\n        <input type=\"password\" disabled :value=\"uMsg.passWord\">\r\n        <router-link to=\"/setting/accountSetting/settingPassWord\" ><button v-if=\"!updatePass\" @click=\"changeUpdatePass\">修改密码</button ></router-link><button v-if=\"updatePass\" @click=\"returnOne\">取消修改</button>\r\n        <!-- <button>修改密码</button> -->\r\n    </div>\r\n    <div class=\"settingEmail\">\r\n        <router-view></router-view>\r\n    </div>\r\n    <div class=\"settingEmail\" v-if=\"!updateE\">\r\n        <span>当前邮箱</span><br>\r\n        <input type=\"text\" disabled :value=\"uMsg.email\"><button @click=\"changeEmail\">修改邮箱</button>\r\n    </div>\r\n    <div v-if=\"updateE\" style=\"margin-top:40px\">\r\n        <span>请输入新的邮箱</span><br>\r\n        <input type=\"text\" v-model=\"usr.email\" @keyup.enter=\"updateEmail\" ref=\"focus2\">\r\n        <button @click=\"changeEmail\">修改取消</button>\r\n        <button @click=\"updateEmail\">修改完成</button>\r\n    </div>\r\n    <div class=\"settingEmail\" v-if=\"!updateP\">\r\n        <span>当前手机号</span><br>\r\n        <input type=\"text\" disabled :value=\"uMsg.phone\"><button @click=\"changePhone\">修改手机号</button>\r\n    </div>\r\n    <div v-if=\"updateP\" style=\"margin-top:40px\">\r\n        <span>请输入新的手机号</span><br>\r\n        <input type=\"text\" v-model=\"usr.phone\" @keyup.enter=\"updatePhone\" ref=\"focus3\">\r\n        <button @click=\"changePhone\">取消修改</button>\r\n        <button @click=\"updatePhone\">修改完成</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'AccountSetting',\r\n    data() {\r\n        return {\r\n            updateN:false,\r\n            updatePass:false,\r\n            updateE:false,\r\n            updateP:false,\r\n            usr:{\r\n                nickname:'',\r\n                email:'',\r\n                phone:''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // 修改昵称\r\n        changeUpdateN(){\r\n            this.updateN=!this.updateN\r\n            this.$nextTick(function(){\r\n                if(this.updateN){\r\n                    this.$refs.focus1.focus()\r\n                }\r\n            })\r\n        },\r\n        updateName(){\r\n            this.updateN=false\r\n            this.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n                uid:this.uMsg.uid,\r\n                nickname:this.usr.nickname\r\n            }).then(res=>{\r\n                this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 密码\r\n        changeUpdatePass(){\r\n            this.updatePass=true\r\n        },\r\n        // 跳转页面\r\n        returnOne(){\r\n            this.updatePass=false\r\n            this.$nextTick(function(){\r\n                this.$router.push({path:'/setting/accountSetting'})\r\n            })\r\n        },\r\n        // 邮箱\r\n        changeEmail(){\r\n            this.updateE=!this.updateE\r\n            this.$nextTick(function(){\r\n                if(this.updateE){\r\n                    this.$refs.focus2.focus()\r\n                }\r\n            })\r\n        },\r\n        updateEmail(){\r\n            this.updateE=false\r\n            this.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n                uid:this.uMsg.uid,\r\n                email:this.usr.email\r\n            }).then(res=>{\r\n                this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        },\r\n        // 电话\r\n        changePhone(){\r\n            this.updateP=!this.updateP\r\n            this.$nextTick(function(){\r\n                if(this.updateP){\r\n                    this.$refs.focus3.focus()\r\n                }\r\n            })\r\n        },\r\n        updatePhone(){\r\n            this.updateP=false\r\n            this.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n                uid:this.uMsg.uid,\r\n                phone:this.usr.phone\r\n            }).then(res=>{\r\n                this.$store.commit('userOptions/UPDATEUSERMESSAGE')\r\n            },\r\n            error=>{\r\n                console.log(error.message);\r\n            })\r\n        }\r\n    },\r\n    computed:{\r\n        uMsg(){\r\n            return this.$store.state.userOptions.user\r\n        }\r\n    },\r\n    mounted() {\r\n        // 初始化\r\n        this.urMsg=this.uMsg\r\n        this.updateN=false\r\n        this.updatePass=false\r\n        this.updateE=false\r\n        this.updateP=false\r\n        this.usr.nickname=this.uMsg.nickname\r\n        this.usr.email=this.uMsg.email\r\n        this.usr.phone=this.uMsg.phone\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.settingEmail{\r\n    margin-top: 40px;\r\n}\r\ninput{\r\n    margin-top: 10px;\r\n    height: 30px;\r\n}\r\nbutton{\r\n    margin-left: 20px;\r\n    height: 34px;\r\n}\r\n</style>"],"sourceRoot":"src/page"}]}