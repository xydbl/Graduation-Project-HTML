{"remainingRequest":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\src\\App.vue","mtime":1661476575834},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\babel-loader\\lib\\index.js","mtime":1660272402348},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660272402559},{"path":"D:\\HBuilderProjects\\vue2\\Graduation-Project-HTML\\node_modules\\vue-loader\\lib\\index.js","mtime":1660272406551}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\HBuilderProjects\\\\vue2\\\\Graduation-Project-HTML\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Top from \"./components/Top.vue\";\nimport Primary from \"./components/Primary.vue\";\nimport BottomDisplay from \"./components/BottomDisplay.vue\";\nimport { nanoid } from 'nanoid';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'app',\n  components: {\n    Top: Top,\n    Primary: Primary,\n    BottomDisplay: BottomDisplay\n  },\n  computed: _objectSpread({}, mapState('userOptions', {\n    user: 'user'\n  })),\n  mounted: function mounted() {\n    var _this = this;\n\n    var isLoginOut = null;\n\n    if (localStorage.getItem('isLoginOut') == null) {\n      isLoginOut = false;\n    } else {\n      isLoginOut = localStorage.getItem('isLoginOut');\n    }\n\n    var username = null;\n\n    if (localStorage.getItem('username') == null) {\n      username = '';\n    } else {\n      username = localStorage.getItem('username');\n    }\n\n    if (isLoginOut != 'false' && username != '') {\n      this.$axios.get(\"http://localhost:8081/api/user/findByUserName/\".concat(username)).then(function (res) {\n        var x = new Date(res.data.logintime).getTime() / 1000 / 60 / 60 / 24;\n        var y = +new Date() / 1000 / 60 / 60 / 24;\n\n        if (y - x < 7) {\n          _this.$store.commit('userOptions/UPDATAISLOGIN', true);\n\n          _this.$store.commit('userOptions/UPDATAUSER', res.data);\n\n          _this.$store.commit('userOptions/TOURISTS', false);\n        } else {\n          _this.$store.commit('userOptions/UPDATAISLOGIN', false);\n\n          localStorage.setItem('username', '');\n        }\n      }, function (error) {\n        console.log(error.message);\n      });\n    }\n\n    setTimeout(function () {\n      if (!_this.user.isLogin) {\n        var tid = _nanoid();\n\n        console.log(tid);\n\n        var _nanoid = sessionStorage.getItem('nanoid');\n\n        if (_nanoid == null || _nanoid == '') {\n          sessionStorage.setItem(\"nanoid\", _nanoid());\n        }\n      } else {\n        sessionStorage.setItem(\"nanoid\", '');\n      }\n    }, 600);\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA,OAAA,GAAA;AACA,OAAA,OAAA;AACA,OAAA,aAAA;AACA,SAAA,MAAA,QAAA,QAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,GAAA,EAAA,GADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,aAAA,EAAA;AAHA,GAFA;AAOA,EAAA,QAAA,oBACA,QAAA,CAAA,aAAA,EAAA;AAAA,IAAA,IAAA,EAAA;AAAA,GAAA,CADA,CAPA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,QAAA,UAAA,GAAA,IAAA;;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,KAAA,IAAA,EAAA;AACA,MAAA,UAAA,GAAA,KAAA;AACA,KAFA,MAEA;AACA,MAAA,UAAA,GAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA;;AAEA,QAAA,QAAA,GAAA,IAAA;;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,UAAA,KAAA,IAAA,EAAA;AACA,MAAA,QAAA,GAAA,EAAA;AACA,KAFA,MAEA;AACA,MAAA,QAAA,GAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AACA;;AAEA,QAAA,UAAA,IAAA,OAAA,IAAA,QAAA,IAAA,EAAA,EAAA;AAEA,WAAA,MAAA,CAAA,GAAA,yDAAA,QAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,CAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,EAAA,OAAA,KAAA,IAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACA,YAAA,CAAA,GAAA,CAAA,IAAA,IAAA,EAAA,GAAA,IAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;;AACA,YAAA,CAAA,GAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,2BAAA,EAAA,IAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,wBAAA,EAAA,GAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,sBAAA,EAAA,KAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,2BAAA,EAAA,KAAA;;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA;AACA,OAZA,EAYA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAdA;AAeA;;AACA,IAAA,UAAA,CAAA,YAAA;AACA,UAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,GAAA,GAAA,OAAA,EAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,OAAA,GAAA,cAAA,CAAA,OAAA,CAAA,QAAA,CAAA;;AACA,YAAA,OAAA,IAAA,IAAA,IAAA,OAAA,IAAA,EAAA,EAAA;AACA,UAAA,cAAA,CAAA,OAAA,CAAA,QAAA,EAAA,OAAA,EAAA;AACA;AACA,OAPA,MAOA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,QAAA,EAAA,EAAA;AACA;AACA,KAXA,EAWA,GAXA,CAAA;AAYA;AAvDA,CAAA","sourcesContent":["<template>\r\n  <div style=\"\">\r\n    <div class=\"topPage\">\r\n      <Top></Top>\r\n    </div>\r\n    \r\n    <div class=\"primaryPage\">\r\n      <Primary></Primary>\r\n    </div>\r\n    <!-- <div class=\"footPage\">\r\n      <BottomDisplay></BottomDisplay>\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Top from './components/Top.vue'\r\nimport Primary from './components/Primary.vue'\r\nimport BottomDisplay from './components/BottomDisplay.vue'\r\nimport {nanoid} from 'nanoid'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n\t  Top,\r\n    Primary,\r\n    BottomDisplay\r\n  },\r\n  computed:{\r\n    ...mapState('userOptions',{user:'user'}),\r\n  },\r\n  mounted(){\r\n   let isLoginOut=null\r\n   if (localStorage.getItem('isLoginOut')==null) {\r\n    isLoginOut=false\r\n   }else{\r\n    isLoginOut=localStorage.getItem('isLoginOut')\r\n   }\r\n   \r\n   let username=null\r\n   if (localStorage.getItem('username')==null) {\r\n    username=''\r\n   }else{\r\n    username=localStorage.getItem('username')\r\n   }\r\n   \r\n   if(isLoginOut!='false'&&username!=''){\r\n    \r\n    this.$axios.get(`http://localhost:8081/api/user/findByUserName/${username}`)\r\n    .then(res=>{\r\n      let x=new Date(res.data.logintime).getTime()/1000/60/60/24\r\n      let y=+new Date()/1000/60/60/24\r\n      if(y-x<7){\r\n        this.$store.commit('userOptions/UPDATAISLOGIN',true)\r\n        this.$store.commit('userOptions/UPDATAUSER',res.data)\r\n        this.$store.commit('userOptions/TOURISTS',false)\r\n      }else{\r\n        this.$store.commit('userOptions/UPDATAISLOGIN',false)\r\n        localStorage.setItem('username','')\r\n      }\r\n    },error=>{\r\n      console.log(error.message);\r\n    })\r\n   }\r\n   setTimeout(() => {\r\n    if(!this.user.isLogin){\r\n      let tid=nanoid()\r\n      console.log(tid);\r\n      let nanoid =sessionStorage.getItem('nanoid')\r\n      if(nanoid==null||nanoid==''){\r\n        sessionStorage.setItem(\"nanoid\",nanoid())\r\n      }\r\n    }else{\r\n      sessionStorage.setItem(\"nanoid\",'')\r\n    }\r\n   },600)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n*{\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.primaryPage{\r\n  position: relative;\r\n  top: 70px;\r\n  height: 800px;\r\n}\r\na{\r\n  text-decoration:none;\r\n  color: #000;\r\n}\r\n.footPage{\r\n  width: 1600px;\r\n  height: 80px;\r\n  position: relative;\r\n  background-color: rgb(140, 136, 136);\r\n  bottom: 0;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":"src"}]}