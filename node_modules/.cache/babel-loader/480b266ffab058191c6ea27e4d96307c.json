{"remainingRequest":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vuecli2\\src\\router\\index.js","dependencies":[{"path":"D:\\HBuilderProjects\\vuecli2\\src\\router\\index.js","mtime":1660044318902},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js","mtime":1657605656602}],"contextDependencies":[],"result":["import VueRouter from 'vue-router';\nimport Login from \"../components/Login.vue\";\nimport Register from \"../components/Register.vue\"; // import SelectUser from '../page/SelectUser.vue'\n\nimport FrontPage from \"../page/FrontPage.vue\";\nimport Setting from \"../page/Setting.vue\";\nimport AccountSetting from \"../page/AccountSetting.vue\";\nimport PersonalInformation from \"../components/PersonalInformation.vue\";\nimport SettingPassWord from \"../components/SettingPassWord.vue\";\nimport Editing from \"../components/Editing.vue\";\nimport PersonalCenter from \"../page/PersonalCenter.vue\";\nimport MyPushBlog from \"../page/MyPushBlog.vue\";\nimport EditBlog from \"../components/EditBlog.vue\";\nimport Audit from \"../page/Audit.vue\";\nimport HistoryRecord from \"../page/HistoryRecord.vue\";\nimport Approved from \"../components/Approved.vue\";\nimport NotApproved from \"../components/NotApproved.vue\";\nimport Blog from \"../page/Blog.vue\";\nimport UploadImage from \"../components/UploadImage.vue\";\nimport ShowUsrInfo from \"../page/ShowUsrInfo.vue\";\nvar router = new VueRouter({\n  routes: [// 默认\n  {\n    path: '/',\n    redirect: '/frontPage'\n  }, // 登录\n  {\n    path: '/login',\n    component: Login\n  }, // 注册\n  {\n    path: '/register',\n    component: Register\n  }, // 首页\n  {\n    path: '/frontPage',\n    component: FrontPage\n  }, // 博客页面\n  {\n    path: '/blog',\n    component: Blog,\n    props: function props($route) {\n      return {\n        bid: $route.query.bid,\n        btitle: $route.query.btitle,\n        btype: $route.query.btype,\n        bcontent: $route.query.bcontent,\n        btime: $route.query.btime\n      };\n    }\n  }, // 用户查看博主信息\n  {\n    path: '/showUsr',\n    component: ShowUsrInfo\n  }, // 设置\n  {\n    path: '/setting',\n    component: Setting,\n    meta: {\n      isAuth: true\n    },\n    children: [// 上传用户图片\n    {\n      path: 'uploadimage',\n      component: UploadImage,\n      meta: {\n        isAuth: true\n      }\n    }, {\n      path: 'accountSetting',\n      // name:'',\n      component: AccountSetting,\n      meta: {\n        isAuth: true\n      },\n      // 鉴权\n      children: [{\n        path: 'settingPassWord',\n        component: SettingPassWord,\n        meta: {\n          isAuth: true\n        }\n      }]\n    }, {\n      path: 'personalInformation',\n      component: PersonalInformation,\n      meta: {\n        isAuth: true\n      }\n    }]\n  }, // 发布博客\n  {\n    path: '/editing',\n    component: Editing,\n    meta: {\n      isAuth: true\n    }\n  }, // 个人中心\n  {\n    path: '/personalcenter',\n    component: PersonalCenter,\n    meta: {\n      isAuth: true\n    },\n    children: [// 我发布的博客\n    {\n      path: 'pushblog',\n      component: MyPushBlog,\n      meta: {\n        isAuth: true\n      }\n    }, // 修改博客\n    {\n      path: 'editblog',\n      component: EditBlog,\n      meta: {\n        isAuth: true\n      },\n      props: function props($route) {\n        return {\n          bid: $route.query.bid,\n          btitle: $route.query.btitle,\n          btype: $route.query.btype,\n          bimg: $route.query.bimage,\n          bcontent: $route.query.bcontent\n        };\n      }\n    }, //  审核评论\n    {\n      path: 'audit',\n      component: Audit,\n      meta: {\n        isAuth: true\n      },\n      props: function props($route) {\n        return {\n          bid: $route.query.bid\n        };\n      },\n      children: [{\n        path: 'approved',\n        component: Approved,\n        meta: {\n          isAuth: true\n        }\n      }, {\n        path: 'notApproved',\n        component: NotApproved,\n        meta: {\n          isAuth: true\n        }\n      }]\n    }, // 历史记录\n    {\n      path: 'history',\n      component: HistoryRecord,\n      meta: {\n        isAuth: true\n      }\n    }]\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  // to and from are both route objects. must call `next`.\n  if (to.meta.isAuth) {\n    if (localStorage.getItem('username') != '' && localStorage.getItem('username') != null && localStorage.getItem('isLoginOut') != 'false') {\n      next();\n    } else {\n      alert('权限不足');\n    }\n  } else {\n    next();\n  }\n});\nrouter.afterEach(function (to, from) {\n  // to and from are both route objects.\n  if (from.fullPath == '/editing') {\n    sessionStorage.setItem('editing', '');\n  }\n\n  if (to.fullPath == '/setting/accountSetting' && from.fullPath == '/setting/accountSetting/settingPassWord') {} else if (to.fullPath == '/setting/accountSetting/settingPassWord' && from.fullPath == '/setting/accountSetting') {} else {\n    window.scrollTo(0, 0);\n  }\n});\nexport default router;",{"version":3,"sources":["D:\\HBuilderProjects\\vuecli2\\src\\router\\index.js"],"names":["VueRouter","Login","Register","FrontPage","Setting","AccountSetting","PersonalInformation","SettingPassWord","Editing","PersonalCenter","MyPushBlog","EditBlog","Audit","HistoryRecord","Approved","NotApproved","Blog","UploadImage","ShowUsrInfo","router","routes","path","redirect","component","props","$route","bid","query","btitle","btype","bcontent","btime","meta","isAuth","children","bimg","bimage","beforeEach","to","from","next","localStorage","getItem","alert","afterEach","fullPath","sessionStorage","setItem","window","scrollTo"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP;AACA,OAAOC,QAAP,mC,CACA;;AACA,OAAOC,SAAP;AACA,OAAOC,OAAP;AACA,OAAOC,cAAP;AACA,OAAOC,mBAAP;AACA,OAAOC,eAAP;AACA,OAAOC,OAAP;AACA,OAAOC,cAAP;AACA,OAAOC,UAAP;AACA,OAAOC,QAAP;AACA,OAAOC,KAAP;AACA,OAAOC,aAAP;AACA,OAAOC,QAAP;AACA,OAAOC,WAAP;AACA,OAAOC,IAAP;AACA,OAAOC,WAAP;AACA,OAAOC,WAAP;AAEA,IAAMC,MAAM,GAAE,IAAInB,SAAJ,CAAc;AACxBoB,EAAAA,MAAM,EAAC,CACH;AACA;AACIC,IAAAA,IAAI,EAAC,GADT;AAEIC,IAAAA,QAAQ,EAAC;AAFb,GAFG,EAMH;AACA;AACID,IAAAA,IAAI,EAAC,QADT;AAEIE,IAAAA,SAAS,EAACtB;AAFd,GAPG,EAWH;AACA;AACIoB,IAAAA,IAAI,EAAC,WADT;AAEIE,IAAAA,SAAS,EAACrB;AAFd,GAZG,EAgBH;AACA;AACImB,IAAAA,IAAI,EAAC,YADT;AAEIE,IAAAA,SAAS,EAACpB;AAFd,GAjBG,EAqBH;AACA;AACIkB,IAAAA,IAAI,EAAC,OADT;AAEIE,IAAAA,SAAS,EAACP,IAFd;AAGIQ,IAAAA,KAHJ,iBAGUC,MAHV,EAGiB;AACT,aAAM;AACFC,QAAAA,GAAG,EAACD,MAAM,CAACE,KAAP,CAAaD,GADf;AAEFE,QAAAA,MAAM,EAACH,MAAM,CAACE,KAAP,CAAaC,MAFlB;AAGFC,QAAAA,KAAK,EAACJ,MAAM,CAACE,KAAP,CAAaE,KAHjB;AAIFC,QAAAA,QAAQ,EAACL,MAAM,CAACE,KAAP,CAAaG,QAJpB;AAKFC,QAAAA,KAAK,EAACN,MAAM,CAACE,KAAP,CAAaI;AALjB,OAAN;AAOH;AAXL,GAtBG,EAmCH;AACA;AACIV,IAAAA,IAAI,EAAC,UADT;AAEIE,IAAAA,SAAS,EAACL;AAFd,GApCG,EAwCH;AACA;AACIG,IAAAA,IAAI,EAAC,UADT;AAEIE,IAAAA,SAAS,EAACnB,OAFd;AAGI4B,IAAAA,IAAI,EAAC;AAACC,MAAAA,MAAM,EAAC;AAAR,KAHT;AAIIC,IAAAA,QAAQ,EAAC,CACL;AACA;AACIb,MAAAA,IAAI,EAAC,aADT;AAEIE,MAAAA,SAAS,EAACN,WAFd;AAGIe,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR;AAHT,KAFK,EAOL;AACIZ,MAAAA,IAAI,EAAC,gBADT;AAEI;AACAE,MAAAA,SAAS,EAAClB,cAHd;AAII2B,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR,OAJT;AAIuB;AACnBC,MAAAA,QAAQ,EAAC,CAAC;AACNb,QAAAA,IAAI,EAAC,iBADC;AAENE,QAAAA,SAAS,EAAChB,eAFJ;AAGNyB,QAAAA,IAAI,EAAC;AAACC,UAAAA,MAAM,EAAC;AAAR;AAHC,OAAD;AALb,KAPK,EAkBL;AACIZ,MAAAA,IAAI,EAAC,qBADT;AAEIE,MAAAA,SAAS,EAACjB,mBAFd;AAGI0B,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR;AAHT,KAlBK;AAJb,GAzCG,EAsEH;AACA;AACIZ,IAAAA,IAAI,EAAC,UADT;AAEIE,IAAAA,SAAS,EAACf,OAFd;AAGIwB,IAAAA,IAAI,EAAC;AAACC,MAAAA,MAAM,EAAC;AAAR;AAHT,GAvEG,EA4EH;AACA;AACIZ,IAAAA,IAAI,EAAC,iBADT;AAEIE,IAAAA,SAAS,EAACd,cAFd;AAGIuB,IAAAA,IAAI,EAAC;AAACC,MAAAA,MAAM,EAAC;AAAR,KAHT;AAIIC,IAAAA,QAAQ,EAAC,CACL;AACA;AACIb,MAAAA,IAAI,EAAC,UADT;AAEIE,MAAAA,SAAS,EAACb,UAFd;AAGIsB,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR;AAHT,KAFK,EAOL;AACA;AACIZ,MAAAA,IAAI,EAAC,UADT;AAEIE,MAAAA,SAAS,EAACZ,QAFd;AAGIqB,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR,OAHT;AAIIT,MAAAA,KAJJ,iBAIUC,MAJV,EAIiB;AACT,eAAO;AACHC,UAAAA,GAAG,EAACD,MAAM,CAACE,KAAP,CAAaD,GADd;AAEHE,UAAAA,MAAM,EAACH,MAAM,CAACE,KAAP,CAAaC,MAFjB;AAGHC,UAAAA,KAAK,EAACJ,MAAM,CAACE,KAAP,CAAaE,KAHhB;AAIHM,UAAAA,IAAI,EAACV,MAAM,CAACE,KAAP,CAAaS,MAJf;AAKHN,UAAAA,QAAQ,EAACL,MAAM,CAACE,KAAP,CAAaG;AALnB,SAAP;AAOH;AAZL,KARK,EAsBL;AACA;AACIT,MAAAA,IAAI,EAAC,OADT;AAEIE,MAAAA,SAAS,EAACX,KAFd;AAGIoB,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR,OAHT;AAIIT,MAAAA,KAJJ,iBAIUC,MAJV,EAIiB;AACT,eAAO;AACHC,UAAAA,GAAG,EAACD,MAAM,CAACE,KAAP,CAAaD;AADd,SAAP;AAGH,OARL;AASIQ,MAAAA,QAAQ,EAAC,CACL;AACIb,QAAAA,IAAI,EAAC,UADT;AAEIE,QAAAA,SAAS,EAACT,QAFd;AAGIkB,QAAAA,IAAI,EAAC;AAACC,UAAAA,MAAM,EAAC;AAAR;AAHT,OADK,EAML;AACIZ,QAAAA,IAAI,EAAC,aADT;AAEIE,QAAAA,SAAS,EAACR,WAFd;AAGIiB,QAAAA,IAAI,EAAC;AAACC,UAAAA,MAAM,EAAC;AAAR;AAHT,OANK;AATb,KAvBK,EA6CL;AACA;AACIZ,MAAAA,IAAI,EAAC,SADT;AAEIE,MAAAA,SAAS,EAACV,aAFd;AAGImB,MAAAA,IAAI,EAAC;AAACC,QAAAA,MAAM,EAAC;AAAR;AAHT,KA9CK;AAJb,GA7EG;AADiB,CAAd,CAAd;AAyIAd,MAAM,CAACkB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACA,MAAGF,EAAE,CAACN,IAAH,CAAQC,MAAX,EAAkB;AACd,QAAGQ,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAkC,EAAlC,IACHD,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAkC,IAD/B,IAEHD,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAoC,OAFpC,EAE4C;AACxCF,MAAAA,IAAI;AACP,KAJD,MAIK;AACDG,MAAAA,KAAK,CAAC,MAAD,CAAL;AACH;AACJ,GARD,MAQK;AACFH,IAAAA,IAAI;AACN;AAEJ,CAdD;AAgBArB,MAAM,CAACyB,SAAP,CAAiB,UAACN,EAAD,EAAKC,IAAL,EAAc;AAC3B;AACA,MAAGA,IAAI,CAACM,QAAL,IAAe,UAAlB,EAA6B;AACzBC,IAAAA,cAAc,CAACC,OAAf,CAAuB,SAAvB,EAAiC,EAAjC;AACH;;AACD,MAAGT,EAAE,CAACO,QAAH,IAAa,yBAAb,IAAwCN,IAAI,CAACM,QAAL,IAAe,yCAA1D,EAAoG,CACnG,CADD,MACM,IAAGP,EAAE,CAACO,QAAH,IAAa,yCAAb,IAAwDN,IAAI,CAACM,QAAL,IAAe,yBAA1E,EAAoG,CACzG,CADK,MAEF;AACAG,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACH;AACJ,CAXD;AAYA,eAAe9B,MAAf","sourcesContent":["import VueRouter from 'vue-router'\r\nimport Login from '../components/Login.vue'\r\nimport Register from '../components/Register.vue'\r\n// import SelectUser from '../page/SelectUser.vue'\r\nimport FrontPage from '../page/FrontPage.vue'\r\nimport Setting from '../page/Setting.vue'\r\nimport AccountSetting from '../page/AccountSetting.vue'\r\nimport PersonalInformation from '../components/PersonalInformation.vue'\r\nimport SettingPassWord from '../components/SettingPassWord.vue'\r\nimport Editing from '../components/Editing.vue'\r\nimport PersonalCenter from '../page/PersonalCenter.vue'\r\nimport MyPushBlog from '../page/MyPushBlog.vue'\r\nimport EditBlog from '../components/EditBlog.vue'\r\nimport Audit from '../page/Audit.vue'\r\nimport HistoryRecord from '../page/HistoryRecord.vue'\r\nimport Approved from '../components/Approved.vue'\r\nimport NotApproved from '../components/NotApproved.vue'\r\nimport Blog from '../page/Blog.vue'\r\nimport UploadImage from '../components/UploadImage.vue'\r\nimport ShowUsrInfo from '../page/ShowUsrInfo.vue'\r\n\r\nconst router= new VueRouter({\r\n    routes:[\r\n        // 默认\r\n        {\r\n            path:'/',\r\n            redirect:'/frontPage'\r\n        },\r\n        // 登录\r\n        {\r\n            path:'/login',\r\n            component:Login,\r\n        },\r\n        // 注册\r\n        {\r\n            path:'/register',\r\n            component:Register\r\n        },\r\n        // 首页\r\n        {\r\n            path:'/frontPage',\r\n            component:FrontPage\r\n        },\r\n        // 博客页面\r\n        {\r\n            path:'/blog',\r\n            component:Blog,\r\n            props($route){\r\n                return{\r\n                    bid:$route.query.bid,\r\n                    btitle:$route.query.btitle,\r\n                    btype:$route.query.btype,\r\n                    bcontent:$route.query.bcontent,\r\n                    btime:$route.query.btime\r\n                }\r\n            }\r\n        },\r\n        // 用户查看博主信息\r\n        {\r\n            path:'/showUsr',\r\n            component:ShowUsrInfo\r\n        },\r\n        // 设置\r\n        {\r\n            path:'/setting',\r\n            component:Setting,\r\n            meta:{isAuth:true},\r\n            children:[\r\n                // 上传用户图片\r\n                {\r\n                    path:'uploadimage',\r\n                    component:UploadImage,\r\n                    meta:{isAuth:true}\r\n                },\r\n                {\r\n                    path:'accountSetting',\r\n                    // name:'',\r\n                    component:AccountSetting,\r\n                    meta:{isAuth:true},// 鉴权\r\n                    children:[{\r\n                        path:'settingPassWord',\r\n                        component:SettingPassWord,\r\n                        meta:{isAuth:true}\r\n                    }]\r\n                },\r\n                {\r\n                    path:'personalInformation',\r\n                    component:PersonalInformation,\r\n                    meta:{isAuth:true}\r\n                }\r\n            ]\r\n        },\r\n        // 发布博客\r\n        {\r\n            path:'/editing',\r\n            component:Editing,\r\n            meta:{isAuth:true}\r\n        },\r\n        // 个人中心\r\n        {\r\n            path:'/personalcenter',\r\n            component:PersonalCenter,\r\n            meta:{isAuth:true},\r\n            children:[\r\n                // 我发布的博客\r\n                {\r\n                    path:'pushblog',\r\n                    component:MyPushBlog,\r\n                    meta:{isAuth:true}\r\n                },\r\n                // 修改博客\r\n                {\r\n                    path:'editblog',\r\n                    component:EditBlog,\r\n                    meta:{isAuth:true},\r\n                    props($route){\r\n                        return {\r\n                            bid:$route.query.bid,\r\n                            btitle:$route.query.btitle,\r\n                            btype:$route.query.btype,\r\n                            bimg:$route.query.bimage,\r\n                            bcontent:$route.query.bcontent\r\n                        }\r\n                    }\r\n                },\r\n                //  审核评论\r\n                {\r\n                    path:'audit',\r\n                    component:Audit,\r\n                    meta:{isAuth:true},\r\n                    props($route){\r\n                        return {\r\n                            bid:$route.query.bid,\r\n                        }\r\n                    },\r\n                    children:[\r\n                        {\r\n                            path:'approved',\r\n                            component:Approved,\r\n                            meta:{isAuth:true}\r\n                        },\r\n                        {\r\n                            path:'notApproved',\r\n                            component:NotApproved,\r\n                            meta:{isAuth:true}\r\n                        }\r\n                    ]\r\n                },\r\n                // 历史记录\r\n                {\r\n                    path:'history',\r\n                    component:HistoryRecord,\r\n                    meta:{isAuth:true}\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n})\r\nrouter.beforeEach((to, from, next) => {\r\n    // to and from are both route objects. must call `next`.\r\n    if(to.meta.isAuth){\r\n        if(localStorage.getItem('username')!=''&&\r\n        localStorage.getItem('username')!=null&&\r\n        localStorage.getItem('isLoginOut')!='false'){\r\n            next()\r\n        }else{\r\n            alert('权限不足')\r\n        }\r\n    }else{\r\n       next() \r\n    }\r\n    \r\n})\r\n\r\nrouter.afterEach((to, from) => {\r\n    // to and from are both route objects.\r\n    if(from.fullPath=='/editing'){\r\n        sessionStorage.setItem('editing','')\r\n    }\r\n    if(to.fullPath=='/setting/accountSetting'&&from.fullPath=='/setting/accountSetting/settingPassWord'){\r\n    }else if(to.fullPath=='/setting/accountSetting/settingPassWord'&&from.fullPath=='/setting/accountSetting'){    \r\n    }\r\n    else{\r\n        window.scrollTo(0,0)\r\n    }\r\n})\r\nexport default router"]}]}