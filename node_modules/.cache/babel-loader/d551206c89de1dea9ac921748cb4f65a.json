{"remainingRequest":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vuecli2\\src\\components\\Approved.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vuecli2\\src\\components\\Approved.vue","mtime":1660216346876},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js","mtime":1657605656602},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js","mtime":1657605655389}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport _objectSpread from \"D:\\\\HBuilderProjects\\\\vuecli2\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  name: 'Approved',\n  data: function data() {\n    return {\n      list: []\n    };\n  },\n  methods: _objectSpread({}, mapMutations('commentaryOptions', {\n    currentCommentary: 'CURRENTCOMMENTARY'\n  }), {\n    // 过滤 commentaryList\n    getApproved: function getApproved() {\n      this.list = this.commentaryList;\n      this.list = this.list.filter(function (li) {\n        return li.ctype == 1;\n      });\n    },\n    // 选择\n    checked1: function checked1(li) {\n      var x;\n\n      if (!li.checked) {\n        if (li.checked == null || li.checked == undefined) {\n          this.$set(li, 'checked', true);\n        } else {\n          li.checked = true;\n        }\n      } else {\n        li.checked = false;\n      } // this.list.forEach(li=>{\n      //   if(li.checked) \n      // })\n\n    },\n    // 选中所有 或取消\n    checkAllComm: function checkAllComm() {\n      var _this = this;\n\n      this.list = this.list.forEach(function (li) {\n        li.checked = _this.checkAll;\n      });\n    },\n    //  删除评论\n    deleteComm: function deleteComm(cid, bid) {\n      var _this2 = this;\n\n      this.$axios.get(\"http://localhost:8081/api/commentary/del/\".concat(cid)).then(function (res) {\n        if (res.data) {\n          alert('删除成功');\n\n          _this2.currentCommentary(bid);\n\n          _this2.getApproved();\n        } else {\n          alert('删除失败');\n        }\n      }, function (error) {\n        console.log(error.message);\n      });\n    },\n    //  删除选中\n    delChecked: function delChecked() {\n      var ids = [];\n      this.list.forEach(function (li) {\n        if (li.checked) {\n          ids.push(li.cid);\n        }\n      });\n\n      if (ids != '') {\n        this.$axios.post('http://localhost:8081/api/commentary/delAll', ids).then(function (res) {\n          if (res.data) {\n            alert('删除成功');\n          }\n        }, function (error) {\n          console.log(error.message);\n        });\n      }\n    }\n  }),\n  computed: _objectSpread({}, mapState('commentaryOptions', {\n    commentaryList: 'commentaryList'\n  })),\n  mounted: function mounted() {\n    var _this3 = this;\n\n    var abid = sessionStorage.getItem('abid');\n    this.currentCommentary(abid); // setInterval(() => {\n    //   this.getApproved()\n    // }, 200);\n\n    setTimeout(function () {\n      _this3.getApproved();\n    }, 200);\n  }\n};",{"version":3,"sources":["Approved.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,oBACA,YAAA,CAAA,mBAAA,EAAA;AAAA,IAAA,iBAAA,EAAA;AAAA,GAAA,CADA;AAEA;AACA,IAAA,WAHA,yBAGA;AACA,WAAA,IAAA,GAAA,KAAA,cAAA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,UAAA,EAAA,EAAA;AACA,eAAA,EAAA,CAAA,KAAA,IAAA,CAAA;AACA,OAFA,CAAA;AAGA,KARA;AASA;AACA,IAAA,QAVA,oBAUA,EAVA,EAUA;AACA,UAAA,CAAA;;AACA,UAAA,CAAA,EAAA,CAAA,OAAA,EAAA;AACA,YAAA,EAAA,CAAA,OAAA,IAAA,IAAA,IAAA,EAAA,CAAA,OAAA,IAAA,SAAA,EAAA;AACA,eAAA,IAAA,CAAA,EAAA,EAAA,SAAA,EAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,EAAA,CAAA,OAAA,GAAA,IAAA;AACA;AACA,OANA,MAMA;AACA,QAAA,EAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAVA,CAWA;AACA;AACA;;AACA,KAxBA;AAyBA;AACA,IAAA,YA1BA,0BA0BA;AAAA;;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA,QAAA,EAAA,CAAA,OAAA,GAAA,KAAA,CAAA,QAAA;AACA,OAFA,CAAA;AAGA,KA9BA;AA+BA;AACA,IAAA,UAhCA,sBAgCA,GAhCA,EAgCA,GAhCA,EAgCA;AAAA;;AACA,WAAA,MAAA,CAAA,GAAA,oDAAA,GAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA;;AACA,UAAA,MAAA,CAAA,iBAAA,CAAA,GAAA;;AACA,UAAA,MAAA,CAAA,WAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA;AACA;AACA,OATA,EAUA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAZA;AAaA,KA9CA;AA+CA;AACA,IAAA,UAhDA,wBAgDA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,OAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,GAAA;AACA;AACA,OAJA;;AAKA,UAAA,GAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,6CAAA,EAAA,GAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA;AACA;AACA,SALA,EAMA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,SARA;AASA;AAEA;AAnEA,IAPA;AA4EA,EAAA,QAAA,oBACA,QAAA,CAAA,mBAAA,EAAA;AAAA,IAAA,cAAA,EAAA;AAAA,GAAA,CADA,CA5EA;AA+EA,EAAA,OA/EA,qBA+EA;AAAA;;AACA,QAAA,IAAA,GAAA,cAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,SAAA,iBAAA,CAAA,IAAA,EAFA,CAGA;AACA;AACA;;AACA,IAAA,UAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,WAAA;AACA,KAFA,EAEA,GAFA,CAAA;AAGA;AAxFA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <table>\r\n        <thead>\r\n            <tr>\r\n              <td>选择</td>\r\n              <td>评论内容</td>\r\n              <td>评论人</td>\r\n              <td>评论时间</td>\r\n              <td><button @click=\"delChecked\">删除选中</button></td>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr valign=middle bgcolor=#E3E7EB v-for=\"li in list\" :key=\"li.cid\">\r\n              <td><input type=\"checkbox\" :checked=\"li.checked\" @change=\"checked1(li)\"></td>\r\n              <td>{{li.message}}</td>\r\n              <td>{{li.messageId}}</td>\r\n              <td>{{li.ctime}}</td>\r\n              <td><span style=\"color: red;\" @click=\"deleteComm(li.cid,li.clogId)\">删除</span></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapMutations } from 'vuex'\r\nexport default {\r\n    name:'Approved',\r\n    data() {\r\n      return {\r\n        list:[],\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations('commentaryOptions',{currentCommentary:'CURRENTCOMMENTARY'}),\r\n      // 过滤 commentaryList\r\n      getApproved(){\r\n        this.list=this.commentaryList\r\n        this.list=this.list.filter((li)=>{\r\n          return li.ctype==1\r\n        })\r\n      },\r\n      // 选择\r\n      checked1(li){\r\n        let x\r\n        if(!li.checked){\r\n          if(li.checked==null||li.checked==undefined){\r\n            this.$set(li,'checked',true)\r\n          }else{\r\n            li.checked=true\r\n          }\r\n        }else{\r\n          li.checked=false\r\n        }\r\n        // this.list.forEach(li=>{\r\n        //   if(li.checked) \r\n        // })\r\n      },\r\n      // 选中所有 或取消\r\n      checkAllComm(){\r\n        this.list=this.list.forEach(li=>{\r\n          li.checked=this.checkAll\r\n        })\r\n      },\r\n      //  删除评论\r\n      deleteComm(cid,bid){\r\n        this.$axios.get(`http://localhost:8081/api/commentary/del/${cid}`)\r\n        .then(res=>{\r\n          if(res.data){\r\n            alert('删除成功')\r\n            this.currentCommentary(bid)\r\n            this.getApproved()\r\n          }else{\r\n            alert('删除失败')\r\n          }\r\n        },\r\n        error=>{\r\n          console.log(error.message);\r\n        })\r\n      },\r\n      //  删除选中\r\n      delChecked(){\r\n        let ids=[]\r\n        this.list.forEach(li=>{\r\n          if(li.checked){\r\n            ids.push(li.cid)\r\n          }\r\n        })\r\n        if(ids!=''){\r\n          this.$axios.post('http://localhost:8081/api/commentary/delAll',ids)\r\n          .then(res=>{\r\n            if(res.data){\r\n              alert('删除成功')\r\n            }\r\n          },\r\n          error=>{\r\n            console.log(error.message);\r\n          })\r\n        }\r\n        \r\n      }\r\n    },\r\n    computed:{\r\n      ...mapState('commentaryOptions',{commentaryList:'commentaryList'})\r\n    },\r\n    mounted() {\r\n      let abid=sessionStorage.getItem('abid')\r\n      this.currentCommentary(abid)\r\n      // setInterval(() => {\r\n      //   this.getApproved()\r\n      // }, 200);\r\n      setTimeout(() => {\r\n        this.getApproved()\r\n      }, 200);\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ntable{\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\nspan{\r\n  cursor: pointer;\r\n  margin: 10px;\r\n}\r\nbutton{\r\n  height: 30px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}