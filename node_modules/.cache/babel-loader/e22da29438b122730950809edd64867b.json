{"remainingRequest":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js!D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderProjects\\vuecli2\\src\\components\\Top.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderProjects\\vuecli2\\src\\components\\Top.vue","mtime":1659923712128},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\babel-loader\\lib\\index.js","mtime":1657605656602},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657605649950},{"path":"D:\\HBuilderProjects\\vuecli2\\node_modules\\vue-loader\\lib\\index.js","mtime":1657605655389}],"contextDependencies":[],"result":["import _objectSpread from \"D:\\\\HBuilderProjects\\\\vuecli2\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex';\nexport default {\n  name: 'Top',\n  data: function data() {\n    return {};\n  },\n  methods: {\n    // 退出登录\n    loginOut: function loginOut() {\n      if (this.isLogin == true && this.isTourist == false) {\n        this.$axios.post('http://localhost:8081/api/user/updateUserById', {\n          uid: this.user.uid,\n          islogin: 0\n        }).then(function (res) {}, function (error) {\n          console.log(error.message);\n        });\n      }\n\n      this.$store.commit('userOptions/UPDATAISLOGIN', false);\n      this.$store.commit('userOptions/TOURISTS', false); // this.$store.commit('userOptions/')\n\n      this.$router.push({\n        path: '/frontPage'\n      });\n      localStorage.setItem('isLoginOut', false);\n    },\n    touristsLogin: function touristsLogin() {\n      var sure = confirm(\"\\u786E\\u5B9A\\u4EE5\\u6E38\\u5BA2\\u8EAB\\u4EFD\\u767B\\u5F55\\u5417\\uFF1F\\u82E5\\u4EE5\\u6E38\\u5BA2\\u8EAB\\u4EFD\\u767B\\u5F55\\uFF0C\\u672C\\u7F51\\u7AD9\\u4E0D\\u4F1A\\u8BB0\\u5F55\\u60A8\\u7684\\u6240\\u6709\\u4FE1\\u606F\\uFF0C\\u7F51\\u7AD9\\u90E8\\u5206\\u529F\\u80FD\\u5C06\\u4E0D\\u4F1A\\u5BF9\\u60A8\\u5F00\\u653E\");\n\n      if (sure) {\n        this.$store.commit('userOptions/UPDATAISLOGIN', true);\n        this.$store.commit('userOptions/TOURISTS', true);\n      }\n    }\n  },\n  computed: _objectSpread({}, mapState('userOptions', {\n    user: 'user'\n  }), {\n    isLogin: function isLogin() {\n      return this.$store.state.userOptions.user.isLogin;\n    },\n    isTourist: function isTourist() {\n      return this.$store.state.userOptions.user.isTouristsLogin;\n    }\n  })\n};",{"version":3,"sources":["Top.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,SAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA,EAAA;AAEA,GALA;AAMA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AACA,UAAA,KAAA,OAAA,IAAA,IAAA,IAAA,KAAA,SAAA,IAAA,KAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,+CAAA,EAAA;AACA,UAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA,CACA,CAJA,EAIA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,SANA;AAOA;;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,2BAAA,EAAA,KAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,sBAAA,EAAA,KAAA,EAXA,CAYA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,YAAA,EAAA,KAAA;AACA,KAjBA;AAkBA,IAAA,aAlBA,2BAkBA;AACA,UAAA,IAAA,GAAA,OAAA,8RAAA;;AACA,UAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,2BAAA,EAAA,IAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,sBAAA,EAAA,IAAA;AACA;AACA;AAxBA,GANA;AAgCA,EAAA,QAAA,oBACA,QAAA,CAAA,aAAA,EAAA;AAAA,IAAA,IAAA,EAAA;AAAA,GAAA,CADA;AAEA,IAAA,OAFA,qBAEA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAJA;AAKA,IAAA,SALA,uBAKA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,IAAA,CAAA,eAAA;AACA;AAPA;AAhCA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div id=\"top\">\r\n\t\t\t<div style=\"width:100px;height:100%;\">\r\n\t\t\t\t<router-link to='/frontPage' style=\"color:white\">主页</router-link>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"logo\"><img src=\"\" alt=\"\"></div>\r\n\t\t\t<!-- <div class=\"greet\">欢 迎 您 使 用</div> -->\r\n\t\t\t<div class=\"login\" style=\"width:190px;height:100%;\">\r\n\t\t\t\t<div v-if=\"!isLogin\" style=\"font-size:18px\">\r\n\t\t\t\t\t<span style=\"cursor: pointer;\" @click=\"touristsLogin\">游客登录</span>\r\n\t\t\t\t\t<span style=\"color:black\"> / </span>\r\n\t\t\t\t\t<router-link to=\"/login\" style=\"color:white\">登录</router-link>\r\n\t\t\t\t\t<span style=\"color:black\"> / </span>\r\n\t\t\t\t\t<router-link to=\"/register\" style=\"color:white\">注册</router-link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"isLogin\" class=\"mycenter\">\r\n\t\t\t\t\t<el-dropdown>\r\n\t\t\t\t\t\t<span class=\"el-dropdown-link\" style=\"color:white;\">\r\n\t\t\t\t\t\t\t我的<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\" style=\"color:black;\">\r\n\t\t\t\t\t\t\t<!-- <el-dropdown-item v-if=\"!isTourist\">发布</el-dropdown-item> -->\r\n\t\t\t\t\t\t\t<el-dropdown-item v-if=\"!isTourist\">\r\n\t\t\t\t\t\t\t\t<router-link to=\"/editing\">发布</router-link>\r\n\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t<el-dropdown-item v-if=\"!isTourist\">\r\n\t\t\t\t\t\t\t\t<router-link to=\"/personalcenter\">个人中心</router-link>\r\n\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t<el-dropdown-item v-if=\"!isTourist\">\r\n\t\t\t\t\t\t\t\t<router-link to=\"/setting\">设置</router-link>\t\r\n\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t\t<el-dropdown-item ><span @click=\"loginOut\">退出登录</span></el-dropdown-item>\r\n\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState ,mapGetters,mapActions,mapMutations} from 'vuex'\r\n\texport default {\r\n\t\tname:'Top',\r\n\t\tdata() {\r\n      \t\treturn {\r\n      \t\t};\r\n    \t},\r\n    \tmethods: {\r\n\t\t\t// 退出登录\r\n      \t\tloginOut(){\r\n\t\t\t\tif (this.isLogin==true&&this.isTourist==false) {\r\n\t\t\t\t\tthis.$axios.post('http://localhost:8081/api/user/updateUserById',{\r\n\t\t\t\t\t\tuid:this.user.uid,\r\n\t\t\t\t\t\tislogin:0\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t},error=>{\r\n\t\t\t\t\t\tconsole.log(error.message);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.$store.commit('userOptions/UPDATAISLOGIN',false)\r\n\t\t\t\tthis.$store.commit('userOptions/TOURISTS',false)\r\n\t\t\t\t// this.$store.commit('userOptions/')\r\n\t\t\t\tthis.$router.push({path:'/frontPage'})\r\n\t\t\t\tlocalStorage.setItem('isLoginOut',false)\r\n\t\t\t},\r\n\t\t\ttouristsLogin(){\r\n\t\t\t\tlet sure=confirm(`确定以游客身份登录吗？若以游客身份登录，本网站不会记录您的所有信息，网站部分功能将不会对您开放`)\r\n\t\t\t\tif(sure){\r\n\t\t\t\t\tthis.$store.commit('userOptions/UPDATAISLOGIN',true)\r\n\t\t\t\t\tthis.$store.commit('userOptions/TOURISTS',true)\r\n\t\t\t\t}\r\n\t\t\t}\r\n    \t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState('userOptions',{user:'user'}),\r\n\t\t\tisLogin(){\r\n\t\t\t\treturn this.$store.state.userOptions.user.isLogin\r\n\t\t\t},\r\n\t\t\tisTourist(){\r\n\t\t\t\treturn this.$store.state.userOptions.user.isTouristsLogin\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#top{\r\n\tposition: relative;\r\n\tfloat: left;\r\n\twidth: 100%;\r\n\theight: 70px;\r\n\tbackground-color: rgb(84, 92, 100);\r\n}\r\ndiv{\r\n\tfont-size: 22px;\r\n\ttext-align:center;\r\n\tline-height: 70px;\r\n\tcolor: white;\r\n}\r\n.greet{\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 580px;\r\n}\r\n.logo{\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 350px;\r\n}\r\n.logo img{\r\n\theight: 70px;\r\n\twidth: 140px;\r\n}\r\n.login{\r\n\tposition:absolute;\r\n\ttop: 0;\r\n\tright: 50px;\r\n}\r\n\r\n.mycenter{\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.el-dropdown-link {\r\n    cursor: pointer;\r\n    color: #409EFF;\r\n}\r\n\r\n.el-icon-arrow-down {\r\n    font-size: 12px;\r\n}\r\na:hover{\r\n\tcolor: rgb(197, 120, 32);\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}